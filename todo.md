# TemporadaTop - TODO

## ğŸ¨ Identidade Visual
- [x] Configurar cores vibrantes (laranja #FF7A00, rosa #FF2E63, magenta #D400FF)
- [x] Implementar gradientes laranja â†’ rosa â†’ magenta
- [x] Integrar logo 3D no projeto
- [x] Configurar fontes bold e modernas
- [x] Aplicar sombras suaves e visual premium

## ğŸ—„ï¸ Banco de Dados
- [x] Schema de usuÃ¡rios (locatÃ¡rios e proprietÃ¡rios)
- [x] Schema de imÃ³veis (chÃ¡caras/casas)
- [x] Schema de reservas
- [x] Schema de pagamentos
- [x] Schema de avaliaÃ§Ãµes
- [x] Schema de calendÃ¡rio de disponibilidade

## ğŸ”§ Backend (tRPC Routers)
- [x] Router de autenticaÃ§Ã£o
- [x] Router de imÃ³veis (CRUD completo)
- [x] Router de reservas
- [x] Router de pagamentos (taxa de R$ 299,99 e 10%)
- [x] Router de calendÃ¡rio
- [x] Router de avaliaÃ§Ãµes
- [x] Router de notificaÃ§Ãµes
- [x] Router de check-in/check-out

## ğŸ¨ Frontend - Landing Page
- [x] Hero section com gradientes vibrantes
- [x] Dois botÃµes principais (Alugar / Cadastrar imÃ³vel)
- [x] SeÃ§Ã£o "Como funciona"
- [x] BenefÃ­cios para locatÃ¡rios
- [x] BenefÃ­cios para proprietÃ¡rios
- [ ] Depoimentos (opcional)
- [ ] FAQs (opcional)
- [x] RodapÃ© com polÃ­ticas e termos

## ğŸ‘¤ Ãrea do LocatÃ¡rio
- [x] PÃ¡gina de busca de imÃ³veis
- [x] Filtros (regiÃ£o, capacidade, comodidades, preÃ§o)
- [x] VisualizaÃ§Ã£o de imÃ³veis com fotos
- [x] CalendÃ¡rio de disponibilidade
- [x] Sistema de reserva com pagamento de 10%
- [x] Dashboard de reservas
- [x] Acompanhamento de status (pendente, pago, check-in, check-out)
- [x] Sistema de avaliaÃ§Ãµes
- [x] HistÃ³rico de reservas
- [x] ConfirmaÃ§Ã£o de check-in/check-out

## ğŸ  Ãrea do ProprietÃ¡rio
- [x] Fluxo de cadastro com pagamento de R$ 299,99
- [x] Cadastro de imÃ³veis (fotos, descriÃ§Ã£o, regras, comodidades)
- [x] Gerenciamento de calendÃ¡rio
- [x] Dashboard de reservas recebidas
- [x] Sistema de notificaÃ§Ãµes
- [x] Recebimento de pagamento total no check-in
- [x] ConfirmaÃ§Ã£o de check-in/check-out
- [x] Sistema de relato de problemas
- [x] SuspensÃ£o de devoluÃ§Ã£o dos 10%
- [x] EdiÃ§Ã£o de dados do imÃ³vel

## ğŸ’³ Sistema de Pagamentos
- [ ] IntegraÃ§Ã£o com gateway de pagamento
- [ ] Pagamento de taxa Ãºnica de R$ 299,99 (proprietÃ¡rio)
- [ ] Pagamento de 10% para reserva (locatÃ¡rio)
- [ ] RetenÃ§Ã£o dos 10% atÃ© check-out
- [ ] DevoluÃ§Ã£o automÃ¡tica dos 10% apÃ³s check-out
- [ ] Pagamento total da estadia no check-in
- [ ] Sistema de cancelamentos
- [ ] Penalidades

## ğŸ“‹ Regras de NegÃ³cio
- [ ] ValidaÃ§Ã£o de cadastro de imÃ³vel apÃ³s pagamento
- [ ] ValidaÃ§Ã£o de reserva apÃ³s pagamento de 10%
- [ ] LiberaÃ§Ã£o de endereÃ§o completo apÃ³s reserva paga
- [ ] Sistema de cancelamento (locatÃ¡rio/proprietÃ¡rio)
- [ ] Bloqueio automÃ¡tico de datas apÃ³s reserva
- [ ] Sistema de mediaÃ§Ã£o de problemas

## ğŸ”” Funcionalidades Gerais
- [ ] Sistema de notificaÃ§Ãµes push
- [ ] Sistema de notificaÃ§Ãµes por e-mail
- [ ] Chat interno (opcional)
- [ ] Dashboard administrativo
- [ ] RelatÃ³rios financeiros
- [ ] Sistema de revisÃµes
- [ ] Suporte e mediaÃ§Ã£o

## ğŸ§ª Testes
- [ ] Testes de autenticaÃ§Ã£o
- [ ] Testes de CRUD de imÃ³veis
- [ ] Testes de reservas
- [ ] Testes de pagamentos
- [ ] Testes de calendÃ¡rio

## ğŸš€ Deploy
- [ ] Configurar repositÃ³rio GitHub
- [ ] DocumentaÃ§Ã£o de setup
- [ ] ConfiguraÃ§Ã£o para Render (backend)
- [ ] ConfiguraÃ§Ã£o para Render (frontend)
- [ ] VariÃ¡veis de ambiente
- [ ] README completo

## ğŸ¯ Branding
- [x] Integrar slogan "TemporadaTOP - salvando a sua temporada!!!" em toda interface

## ğŸ”„ GitHub & Deploy
- [x] Configurar repositÃ³rio GitHub
- [x] Fazer push inicial do cÃ³digo
- [ ] Configurar Render para backend
- [ ] Configurar Render para frontend
- [x] Documentar variÃ¡veis de ambiente

## ğŸ”„ ConversÃ£o PostgreSQL
- [x] Converter schema de MySQL para PostgreSQL
- [x] Atualizar drizzle.config.ts para PostgreSQL
- [x] Atualizar server/db.ts para PostgreSQL
- [x] Fazer push para GitHub

## ğŸ”§ CorreÃ§Ã£o Deploy Render
- [x] Alterar comando db:push para usar apenas drizzle-kit push
- [x] Fazer push para GitHub

## ğŸ¨ Melhorias Landing Page
- [x] Adicionar logo acima do slogan
- [x] Diminuir tamanho do slogan
- [x] Remover menÃ§Ãµes aos 10% e R$ 299,99
- [x] Focar em benefÃ­cios sem falar de valores
- [x] Fazer push para GitHub

## ğŸ¨ Ajuste Visual Slogan
- [x] Separar tÃ­tulo e slogan em duas linhas
- [x] Fazer push para GitHub

## ğŸ“¸ SeÃ§Ã£o de Fotos de ChÃ¡caras
- [x] Copiar imagens para client/public
- [x] Adicionar seÃ§Ã£o com 3 fotos entre Hero e Como Funciona
- [x] Criar badges "DisponÃ­vel para Natal/RÃ©veillon/Carnaval"
- [x] Fazer push para GitHub

## ğŸ¨ Ajuste Logo Hero
- [x] Remover logo grande do Hero section
- [x] Fazer push para GitHub

## ğŸ¨ Ajuste Altura Hero
- [x] Reduzir padding vertical do Hero section
- [x] Fazer push para GitHub

## ğŸŒ GeolocalizaÃ§Ã£o por IP
- [x] Criar hook useGeolocation para detectar cidade do visitante
- [x] Integrar API de geolocalizaÃ§Ã£o gratuita
- [x] Atualizar tÃ­tulo "ImÃ³veis em Destaque" com cidade dinÃ¢mica
- [x] Fazer push para GitHub


## ğŸ“Š ExtraÃ§Ã£o de Dados - 11 ChÃ¡caras Reais
- [x] Extrair dados de 11 chÃ¡caras do Airbnb
- [x] Criar nomes fictÃ­cios brasileiros
- [x] Reescrever descriÃ§Ãµes profissionalmente (100% originais)
- [x] Baixar 32 fotos das chÃ¡caras
- [x] Copiar fotos para /client/public/properties/
- [x] Criar script de seed (/server/seed-properties.ts)
- [ ] Popular banco de dados PostgreSQL com as 11 chÃ¡caras
- [ ] Adicionar coordenadas (latitude/longitude) para cada propriedade
- [ ] Implementar ordenaÃ§Ã£o por proximidade do usuÃ¡rio

## ğŸ“ Arquivos de Dados
- `/home/ubuntu/temporadatop/data/properties_final_with_descriptions.json` - Dados finais das 11 chÃ¡caras
- `/home/ubuntu/temporadatop/data/chacaras-fotos/` - Fotos originais (32 fotos)
- `/home/ubuntu/temporadatop/client/public/properties/` - Fotos no projeto (48 arquivos)
- `/home/ubuntu/temporadatop/server/seed-properties.ts` - Script de seed pronto
- `/home/ubuntu/temporadatop/data/RESUMO_EXTRACAO.md` - Resumo completo

## ğŸ“Š EstatÃ­sticas das 11 ChÃ¡caras

| ID | Nome | Cidade | Capacidade | PreÃ§o/Noite |
|----|------|--------|------------|-------------|
| 1 | ChÃ¡cara Primavera | Atibaia, SP | 6 | R$ 425 |
| 2 | SÃ­tio Cantinho do CÃ©u | NazarÃ© Paulista, SP | 5 | R$ 335 |
| 3 | Rancho Vista Alegre | Mogi das Cruzes, SP | 12 | R$ 496 |
| 4 | ChÃ¡cara Recanto das Ãguas | SÃ£o Paulo, SP | 6 | R$ 591 |
| 5 | SÃ­tio Flor do Campo | IbiÃºna, SP | 9 | R$ 494 |
| 6 | ChÃ¡cara Bela Vista | MairiporÃ£, SP | 6 | R$ 445 |
| 7 | Rancho ParaÃ­so Verde | Guararema, SP | 13 | R$ 535 |
| 8 | ChÃ¡cara Sonho Meu | RibeirÃ£o Pires, SP | 16 | R$ 552 |
| 9 | SÃ­tio Morada do Sol | Extrema, MG | 2 | R$ 463 |
| 10 | ChÃ¡cara Vale Encantado | Atibaia, SP | 15 | R$ 457 |
| 11 | Rancho Pedra Alta | SÃ£o Bento do SapucaÃ­, SP | 2 | R$ 481 |

**Total**: 11 propriedades | 32 fotos | PreÃ§o mÃ©dio: R$ 470/noite


## ğŸ”„ NOVA ABORDAGEM - Sistema sem Banco de Dados (localStorage)

- [x] Criar arquivo JSON com dados das 11 chÃ¡caras (fixo no cÃ³digo)
- [x] Implementar autenticaÃ§Ã£o com localStorage (cadastro/login/logout)
- [x] Criar pÃ¡gina /properties com listagem das 11 chÃ¡caras
- [x] Criar 11 pÃ¡ginas individuais /property/[id]
- [x] Implementar sistema de reservas com localStorage
- [x] Criar interface de pagamento (preparada para integraÃ§Ã£o futura REAL)
- [x] Criar painel "Minhas Reservas"
- [x] Testar fluxo completo de usuÃ¡rio
- [x] Salvar checkpoint final


## ğŸ”„ Ajustes Finais Deploy

- [ ] Fazer push do cÃ³digo atualizado para GitHub
- [ ] Fazer deploy no Render com commit correto
- [ ] Redirecionar automaticamente para /properties apÃ³s login/cadastro
- [ ] Testar fluxo completo no Render


## ğŸ¯ SimplificaÃ§Ã£o UX - Foco em Aluguel

- [x] Desativar botÃ£o "Cadastrar ImÃ³vel" na landing page
- [x] Manter apenas botÃ£o "Alugar" funcionando
- [x] Redirecionar automaticamente para /properties apÃ³s login/cadastro
- [x] Testar fluxo completo: cadastro â†’ login â†’ /properties
- [ ] Fazer push para GitHub
- [ ] Deploy no Render


## ğŸ¯ Ajuste Final do Fluxo UX

- [x] Todos os botÃµes da landing page devem redirecionar para /login
- [x] ApÃ³s login/cadastro bem-sucedido â†’ redirecionar para /properties
- [x] UsuÃ¡rio sÃ³ vÃª as chÃ¡caras disponÃ­veis apÃ³s fazer login/cadastro


## ğŸ› CorreÃ§Ãµes Solicitadas

- [x] Corrigir geolocalizaÃ§Ã£o na pÃ¡gina /properties (nÃ£o estava detectando cidade do usuÃ¡rio)
- [x] Verificar se hook useGeolocation estÃ¡ funcionando corretamente
- [x] Testar detecÃ§Ã£o de IP e exibiÃ§Ã£o da cidade

-- [x] Verificar quais chÃ¡caras estÃ£o sem fotos
- [x] Adicionar fotos reais para todas as 11 chÃ¡caras
- [x] Testar exibiÃ§Ã£o das fotos na pÃ¡gina /properties
- [x] Mudar lÃ³gica de pagamento: remover depÃ³sito de 10%
- [x] Implementar taxa Ãºnica de reserva de R$ 79,90
- [x] Atualizar textos explicando que a taxa Ã© devolvida no dia da reserva
- [x] Ajustar cÃ¡lculos na pÃ¡gina de pagamento
- [ ] Testar fluxo completo de reserva com nova taxa

- [x] Atualizar capacidade de todas as chÃ¡caras para 20 hÃ³spedes
- [x] Ajustar preÃ§os das diÃ¡rias para R$ 300 a R$ 400
- [ ] Testar exibiÃ§Ã£o da nova capacidade e preÃ§os


## ğŸ Sistema de Cupom de Desconto

- [x] Criar modal de boas-vindas com cupom #temporadatop (50% desconto)
- [x] Implementar lÃ³gica de validaÃ§Ã£o: apenas primeiro aluguel
- [x] Aplicar cupom automaticamente na reserva
- [x] Calcular desconto de 50% no valor total dos dias
- [x] Exibir valor original e valor com desconto
- [x] Salvar informaÃ§Ã£o de cupom usado no localStorage
- [ ] Testar fluxo completo: login â†’ modal â†’ reserva com desconto

- [x] Mostrar valor original riscado em vermelho quando cupom estÃ¡ ativo
- [x] Exibir valor com desconto em destaque abaixo do valor original
- [x] Melhorar visualizaÃ§Ã£o do desconto na pÃ¡gina de reserva


## ğŸ› Erro 502 no Render

- [ ] Verificar configuraÃ§Ã£o de porta no servidor
- [ ] Verificar variÃ¡veis de ambiente necessÃ¡rias
- [ ] Verificar se o build estÃ¡ funcionando corretamente
- [ ] Testar deploy local antes de fazer push

- [x] Remover botÃµes "Dashboard" e "ImÃ³veis" do header da landing page
- [x] Manter apenas logo, "Entrar" e "Cadastrar"


## ğŸ¨ Melhorias na PÃ¡gina de Reserva

- [x] Adicionar texto em verde forte abaixo do valor com desconto: "O valor das estadias vocÃª SÃ“ PAGA quando entrar no IMÃ“VEL!!!"
- [x] Atualizar texto da taxa de reserva para "R$ 79,90 (Ãšnico valor a pagar no momento)"
- [x] Adicionar explicaÃ§Ã£o: "Este Ã© o Ãºnico valor a pagar para garantir a sua reserva"
- [x] Mudar botÃ£o "Reservar" para "Reservar por apenas R$ 79,90"


## ğŸŒ ChÃ¡caras DinÃ¢micas com GeolocalizaÃ§Ã£o

- [x] Receber 7 chÃ¡caras com fotos e descriÃ§Ãµes do usuÃ¡rio
  - ChÃ¡cara do Diego (6 fotos)
  - ChÃ¡cara da Ana (5 fotos)
  - Cantinho CÃ©u Azul (1 foto)
  - ChÃ¡cara da VovÃ³ Mafalda (3 fotos)
  - EspaÃ§o Familiar da Bianca (0 fotos)
  - Recanto do Amor (1 foto)
  - ChalÃ© das Flores (1 foto)
- [x] Criar sistema de chÃ¡caras dinÃ¢micas que mudam cidade baseado no IP
- [x] Adicionar badge "ChÃ¡cara atÃ© 10km de vocÃª" (nÃ£o clicÃ¡vel) na primeira foto
- [x] Ordenar listagem: chÃ¡caras dinÃ¢micas aparecem no TOPO
- [x] Testar com diferentes IPs/localizaÃ§Ãµes (Campinas, Rio Pardo, etc.)
- [ ] Garantir que cidade muda automaticamente


## ğŸ› CorreÃ§Ãµes Urgentes

- [x] Corrigir pÃ¡gina "ImÃ³vel nÃ£o encontrado" ao clicar em chÃ¡caras dinÃ¢micas
- [x] Fazer pÃ¡gina de detalhes suportar IDs dinÃ¢micos (1000+)
- [x] Investigar API de geolocalizaÃ§Ã£o mostrando "SÃ£o Paulo" ao invÃ©s de "Campinas"
- [x] Adicionar logs de debug para geolocalizaÃ§Ã£o
- [x] Testar pÃ¡gina de detalhes com chÃ¡caras dinÃ¢micas


## ğŸŒ Melhorar PrecisÃ£o da GeolocalizaÃ§Ã£o

- [x] Pesquisar APIs de geolocalizaÃ§Ã£o mais precisas que ipapi.co
- [x] Testar APIs alternativas: ip-api.com, ipgeolocation.io, ipinfo.io
- [x] Implementar API mais precisa que detecte cidade real (Campinas, SÃ£o JosÃ© do Rio Pardo)
- [ ] Testar com IPs de diferentes cidades do interior paulista
- [ ] Verificar se detecta corretamente em computador e celular


## ğŸ¯ Sistema de GeolocalizaÃ§Ã£o por CEP no Cadastro

- [x] Adicionar campos CEP e Cidade no schema do banco de dados (users table)
- [x] Atualizar formulÃ¡rio de cadastro com campo CEP
- [x] Implementar busca automÃ¡tica de cidade por CEP (ViaCEP API gratuita)
- [x] Auto-preencher campo Cidade apÃ³s digitar CEP
- [x] Salvar CEP e Cidade no banco ao cadastrar usuÃ¡rio
- [x] Usar cidade do usuÃ¡rio logado nas chÃ¡caras dinÃ¢micas
- [x] Manter fallback de API de IP para visitantes nÃ£o logados
- [x] Testar: cadastro com CEP â†’ login â†’ chÃ¡caras com cidade correta
- [x] Testar fallback: visitante nÃ£o logado â†’ usa IP


## ğŸ”„ Sistema Anti-Soneca (Keep-Alive) - Render

- [x] Instalar dependÃªncia node-cron
- [x] Criar sistema de self-ping a cada 14 minutos
- [x] Criar endpoint /health para health check
- [x] Criar endpoint /keep-alive com estatÃ­sticas
- [x] Criar endpoint /api/stats para monitoramento
- [x] Criar pÃ¡gina /monitor com dashboard em tempo real
- [ ] Configurar variÃ¡vel de ambiente RENDER_EXTERNAL_URL
- [x] Testar sistema de keep-alive localmente
- [x] Fazer push para GitHub
- [ ] Testar no Render (verificar logs de self-ping)


## ğŸ“± OtimizaÃ§Ã£o Mobile

- [x] Otimizar landing page para mobile (hero, cards, seÃ§Ãµes)
- [x] Otimizar pÃ¡gina de listagem de propriedades para mobile
- [ ] Otimizar pÃ¡gina de detalhes da propriedade para mobile
- [x] Otimizar formulÃ¡rios de login/cadastro para mobile
- [ ] Otimizar dashboard de reservas para mobile
- [x] Ajustar tamanhos de fonte para telas pequenas
- [x] Ajustar espaÃ§amentos e padding para mobile
- [x] Testar em diferentes tamanhos de tela (iPhone, Android)
- [ ] Fazer push para GitHub
